<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hua Xian Yi</title>
  
  <subtitle>No accident in the world. All the miracles and happiness are created by ourselves.</subtitle>
  <link href="https://blog.huaxianyi.com/atom.xml" rel="self"/>
  
  <link href="https://blog.huaxianyi.com/"/>
  <updated>2020-11-18T08:39:48.932Z</updated>
  <id>https://blog.huaxianyi.com/</id>
  
  <author>
    <name>Hua Xian Yi</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>对象存储服务器Minio</title>
    <link href="https://blog.huaxianyi.com/2020/11/18/technology/minio/"/>
    <id>https://blog.huaxianyi.com/2020/11/18/technology/minio/</id>
    <published>2020-11-18T03:33:24.000Z</published>
    <updated>2020-11-18T08:39:48.932Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>官方介绍：<br>MinIO 是一个基于Apache License v2.0开源协议的对象存储服务。它兼容亚马逊S3云存储服务接口，非常适合于存储大容量非结构化的数据，例如图片、视频、日志文件、备份数据和容器/虚拟机镜像等，而一个对象文件可以是任意大小，从几kb到最大5T不等。<br>MinIO是一个非常轻量的服务,可以很简单的和其他应用的结合，类似 NodeJS, Redis 或者 MySQL。<br>相对于FastDFS,部署简单,有UI界面,MinIO号称是世界上速度最快的对象存储服务器</p></blockquote><h3 id="快速开始-本文使用系统CentOS-Linux-7-Core-x86-64"><a href="#快速开始-本文使用系统CentOS-Linux-7-Core-x86-64" class="headerlink" title="快速开始 本文使用系统CentOS Linux 7 (Core) x86_64"></a>快速开始 本文使用系统CentOS Linux 7 (Core) x86_64</h3><hr><p>本文是Minio的简单使用，更多相关文档请至Minio官网查阅<br><a href="https://docs.min.io/">Minio 官方文档</a>.</p><h3 id="下载二进制文件"><a href="#下载二进制文件" class="headerlink" title="下载二进制文件"></a>下载二进制文件</h3><hr><blockquote><p>GNU/Linux <a href="https://min.io/download#/linux">Minio 官方安装文档</a>.</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://dl.min.io/server/minio/release/linux-amd64/minio</span><br></pre></td></tr></table></figure><h3 id="启动服务"><a href="#启动服务" class="headerlink" title="启动服务"></a>启动服务</h3><hr><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod +x minio</span><br><span class="line">MINIO_ACCESS_KEY=minioadmin MINIO_SECRET_KEY=minioadmin ./minio server /mnt/data</span><br></pre></td></tr></table></figure><p>如果想要换验证密钥可将 minioadmin 值替换为自己想要的</p><h3 id="使用MinIO浏览器进行验证"><a href="#使用MinIO浏览器进行验证" class="headerlink" title="使用MinIO浏览器进行验证"></a>使用MinIO浏览器进行验证</h3><hr><p>安装后使用浏览器访问 <code>http://127.0.0.1:9000</code> , 如果可以访问，则表示minio已经安装成功。<br><img src="https://img.huaxianyi.com/huaxianyi/minio_login.png" alt="minio_login_img"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">用户名密码</span><br><span class="line">Access Key: minioadmin</span><br><span class="line">Secret Key: minioadmin</span><br></pre></td></tr></table></figure><h3 id="外网永久分享链接"><a href="#外网永久分享链接" class="headerlink" title="外网永久分享链接"></a>外网永久分享链接</h3><hr><p>Minio分享链接最多只有7天的有效期<br>minio提供了一个客户端工具。可以直接对minio server进行配置，将指定桶设置为公共永久可下载。</p><table><thead><tr><th>系统</th><th>系统内核</th><th>URL</th></tr></thead><tbody><tr><td>GNU/Linux</td><td>64-bit Intel</td><td><a href="https://dl.min.io/client/mc/release/linux-amd64/mc">https://dl.min.io/client/mc/release/linux-amd64/mc</a></td></tr><tr><td></td><td>64-bit PPC</td><td><a href="https://dl.min.io/client/mc/release/linux-amd64/mc">https://dl.min.io/client/mc/release/linux-amd64/mc</a></td></tr></tbody></table><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">https://dl.min.io/client/mc/release/linux-amd64/mc</span><br><span class="line">chmod +x mc</span><br></pre></td></tr></table></figure><blockquote><p>Shell别名 可以添加shell别名来覆盖默认的Unix工具命令。</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> ls=<span class="string">&#x27;mc ls&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> cp=<span class="string">&#x27;mc cp&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> cat=<span class="string">&#x27;mc cat&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> mkdir=<span class="string">&#x27;mc mb&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> pipe=<span class="string">&#x27;mc pipe&#x27;</span></span><br><span class="line"><span class="built_in">alias</span> find=<span class="string">&#x27;mc find&#x27;</span></span><br></pre></td></tr></table></figure><blockquote><p>从MinIO服务获得URL、access key和secret key。<br>参数解析：<code>--api</code> API签名是可选参数，默认情况下，它被设置为”S3v4”。</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mc config host add minio http://<span class="variable">$&#123;ip&#125;</span>:&#123;port&#125; <span class="variable">$&#123;Access Key&#125;</span> <span class="variable">$&#123;Secret Key&#125;</span> --api s3v4</span><br></pre></td></tr></table></figure><blockquote><p>示例：</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mc config host add minio http://192.168.1.51 BKIKJAA5BMMU2RHO6IBB V7f1CwQqAcwo80UEIJEjc5gVQUSSx5ohQ9GSrr12 --api s3v4</span><br></pre></td></tr></table></figure><blockquote><p>验证：mc将所有的配置信息都存储在~/.mc/config.json文件中。</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat ~/.mc/config.json</span><br></pre></td></tr></table></figure><p><img src="https://img.huaxianyi.com/huaxianyi/minio_mc_yanzheng.png" alt="minio_mc_yanzheng"></p><blockquote><p>mc预先配置了云存储服务URL：  <code>https://play.min.io</code>  ，别名“play”。它是一个用于研发和测试的MinIO服务。如果想测试Amazon S3,你可以将“play”替换为“s3”。<br>自己服务的别名叫  <code>minio</code>  ,具体可在  <code>~/.mc/config.json</code>  文件查看</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 示例:列出`https://play.min.io`上的所有存储桶。</span></span><br><span class="line">mc ls play</span><br><span class="line">[2016-03-22 19:47:48 PDT]     0B my-bucketname/</span><br><span class="line">[2016-03-22 22:01:07 PDT]     0B mytestbucket/</span><br><span class="line">[2016-03-22 20:04:39 PDT]     0B mybucketname/</span><br><span class="line">[2016-01-28 17:23:11 PST]     0B newbucket/</span><br><span class="line">[2016-03-20 09:08:36 PDT]     0B s3git-test/</span><br></pre></td></tr></table></figure><h4 id="policy命令-管理存储桶策略"><a href="#policy命令-管理存储桶策略" class="headerlink" title="policy命令 - 管理存储桶策略"></a>policy命令 - 管理存储桶策略</h4><hr><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">用法：</span><br><span class="line">  mc policy [FLAGS] PERMISSION TARGET</span><br><span class="line">  mc policy [FLAGS] TARGET</span><br><span class="line">  mc policy list [FLAGS] TARGET</span><br><span class="line"></span><br><span class="line">PERMISSION:</span><br><span class="line">  Allowed policies are: [none, download, upload, public].</span><br><span class="line"></span><br><span class="line">FLAGS:</span><br><span class="line">  --<span class="built_in">help</span>, -h                       显示帮助。</span><br></pre></td></tr></table></figure><blockquote><p>此处我们选择 <code>public</code> 策略。</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mc policy <span class="built_in">set</span> public minio/blog</span><br><span class="line">Access permission <span class="keyword">for</span> `minio/blog` is <span class="built_in">set</span> to `public`</span><br></pre></td></tr></table></figure><blockquote><p>接下来我们就可以永久访问啦 -&gt; <code>https://www.example.com/bucket/example.png</code></p></blockquote><h1 id="Have-fun"><a href="#Have-fun" class="headerlink" title="Have fun ^_^"></a>Have fun ^_^</h1><hr>]]></content>
    
    
    <summary type="html">对象存储服务器 Minio</summary>
    
    
    
    <category term="technology" scheme="https://blog.huaxianyi.com/categories/technology/"/>
    
    
    <category term="Minio" scheme="https://blog.huaxianyi.com/tags/Minio/"/>
    
  </entry>
  
</feed>
